<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>贪吃蛇</title>
	<style type="text/css">
		body{
			margin: 0;
		}
		.map{
			position: relative;
			margin: 50px auto 0;
			width: 400px;
			height: 400px;
			background-color: #bbb;
		}
	</style>
</head>
<body>
	<div class="map">

	</div>
	<script>


		//小方块(食物)是随机产生的,所以需要一个产生随机数的函数
		(function (window){
			//产生随机数的构造函数
			function Random(){

			}
			//在原型对象中添加方法
			Random.prototype.getRandom = function(min,max){
				return Math.round(Math.random()*(max-min)+min);
			}
			//把Randow对象暴露给顶级对象window --> 外部可以直接使用
			window.Random = Random;

		})(window)
			
			var Random = new Random();
			// console.log(Random.getRandom(0,5))

			//画小方块(食物) --> 在地图上随机出现
			
			var map = document.querySelector(".map");

			function setFood(width,height,color){
				this.width = width || 20;  //默认值20
				this.height = height || 20;
				this.color = color;
				//坐标(随机产生)
				this.x = 0;
				this.y = 0;
				this.element = document.createElement("div");
			}
			setFood.prototype.setStyle = function(map){
				var div = this.element;
				div.style.width = this.width + "px";
				div.style.height = this.height + "px";
				div.style.position = "absolute";
				div.style.backgroundColor = this.color;
				map.appendChild(div);
				this.render(map);
			}
			setFood.prototype.render = function(map){
				var x = Random.getRandom(0,map.clientWidth/this.width)*this.width;
				var y = Random.getRandom(0,map.clientHeight/this.height)*this.height;
				// console.log(x,y)
				if(x>=map.clientWidth){
					x = x - this.width;
				}
				this.x = x;
				if(y>=map.clientHeight){
					y = y - this.height;
				}
				this.y = y;
				var div = this.element;
				div.style.left = this.x + "px";
				div.style.top = this.y + "px";
			}
			var f = new setFood(10,10,"green");
			f.setStyle(map);

		
	</script>
</body>
</html>